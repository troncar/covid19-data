(this["webpackJsonpcovid19-data"]=this["webpackJsonpcovid19-data"]||[]).push([[0],{205:function(e,t,a){e.exports=a(353)},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},213:function(e,t,a){},313:function(e,t,a){},349:function(e,t,a){},351:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(183),i=a.n(c),o=(a(210),a(26)),s=a(12),l=(a(211),function(e){var t=e.useFetchCurrent(e.currentTerrytory.name),a=Object(s.a)(t,3),n=a[0],c=a[1],i=a[2];return r.a.createElement("div",{className:"blockTerritory"},!!c&&r.a.createElement("div",null,r.a.createElement("h3",null,"Estado Predefinido"),r.a.createElement("div",{className:"blockTerritory__select"},r.a.createElement("select",{name:"select",onChange:function(t){e.setCurrentTerrytory({name:t.target.value}),e.setCurrentTowns(Object(o.a)({},i))}},Object.keys(e.terrytory[0].facets).map((function(t){return r.a.createElement("option",{key:t,value:e.terrytory[0].facets[t].name},e.terrytory[0].facets[t].name)})))),r.a.createElement("h3",null,"Total de Casos Positivos SARS-CoV-2: "),r.a.createElement("div",{className:"blockTerritory__count"},n.count)))}),d=(a(212),function(){return r.a.createElement("div",{className:"navBar"},r.a.createElement("div",{className:"navBar__title"}," Datos Asociados al Covid 19 "))}),u=a(184),f=a.n(u),m=function(e){return e<320?"xs":e>=320&&e<720?"sm":e>=720&&e<1024?"md":e>=1024?"lg":void 0},p=function(){var e=Object(n.useState)((function(){return m(window.innerWidth)})),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=f()((function(){r(m(window.innerWidth))}),200);return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a},b=function(e){var t=Object(n.useState)({}),a=Object(s.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)({}),l=Object(s.a)(i,2),d=l[0],u=l[1],f=Object(n.useState)(),m=Object(s.a)(f,2),p=m[0],b=m[1],h=Object(n.useState)([{name:"",count:0,path:"",state:""}]),g=Object(s.a)(h,2),_=g[0],v=g[1],k=Object(n.useState)(!1),E=Object(s.a)(k,2),O=E[0],y=E[1],j=Object(n.useState)([{sector:"",count:0}]),S=Object(s.a)(j,2),C=S[0],L=S[1],N=Object(n.useState)([]),T=Object(s.a)(N,2),w=T[0],x=T[1],B="https://datos.cdmx.gob.mx/api/records/1.0/search/?dataset=casos-asociados-a-covid-19&rows=0&facet=origen&facet=sector&facet=entidad_um&facet=sexo&facet=municipio_res&facet=tipo_paciente&facet=fecha_ingreso&facet=edad&facet=nacionalidad&facet=embarazo&facet=habla_lengua_indi&facet=diabetes&facet=epoc&facet=asma&facet=inmusupr&facet=hipertension&facet=cardiovascular&facet=obesidad&facet=renal_cronica&facet=tabaquismo&facet=resultado&facet=migrante&facet=pais_nacionalidad&facet=rango_edad&refine.entidad_um=".concat(e);return Object(n.useEffect)((function(){fetch(B).then((function(e){return e.json()})).then((function(e){if(e.facet_groups&&e.facet_groups[0]&&e.facet_groups[0].facets){var t=e.facet_groups.filter((function(e){return"entidad_um"===e.name})),a=e.facet_groups.filter((function(e){return"resultado"===e.name}))[0].facets.filter((function(e){return"Positivo SARS-CoV-2"===e.path})),n=e.facet_groups.filter((function(e){return"municipio_res"===e.name}));v(Object(o.a)({},n)),c({name:t[0].facets[0].name,count:a[0].count});var r=e.facet_groups.filter((function(e){return"sector"===e.name})),i=e.facet_groups.filter((function(e){return"obesidad"===e.name||"tabaquismo"===e.name||"diabetes"===e.name||"asma"===e.name||"hipertension"===e.name||"cardiovascular"===e.name||"epoc"===e.name||"renal_cronica"===e.name||"inmusupr"===e.name}));v(Object(o.a)({},n)),L(Object(o.a)({},r)),x(Object(o.a)({},i)),y(!0),b(e.nhits)}})).catch((function(e){u(Object(o.a)({},e))}))}),[e,B]),[r,d,_,w,C,O,p]},h=(a(213),a(196)),g=(a(313),function(e){var t=e.towns[0].facets.map((function(e){return{id:e.path,label:e.path,value:e.count}}));return r.a.createElement("div",{className:"blockTowns"},r.a.createElement("div",{className:"blockTowns__block"},r.a.createElement(h.a,{data:t,margin:{top:10,right:20,bottom:80,left:20},innerRadius:.5,padAngle:.7,cornerRadius:3,colors:{scheme:"spectral"},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",.2]]},enableRadialLabels:"sm"!==e.breakpoint,radialLabelsSkipAngle:10,radialLabelsTextXOffset:6,radialLabelsTextColor:"#333333",radialLabelsLinkOffset:0,radialLabelsLinkDiagonalLength:10,radialLabelsLinkHorizontalLength:24,radialLabelsLinkStrokeWidth:1,radialLabelsLinkColor:{from:"color"},slicesLabelsSkipAngle:10,slicesLabelsTextColor:"#333333",animate:!0,motionStiffness:90,motionDamping:15,defs:[{id:"dots",type:"patternDots",background:"inherit",color:"rgba(255, 255, 255, 0.3)",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"rgba(255, 255, 255, 0.3)",rotation:-45,lineWidth:6,spacing:10}]})))}),_=a(83),v=a(191),k=(a(349),function(e){var t=e.hospitals[0].facets.map((function(e){return Object(_.a)({sector:e.path},e.path,e.count)})),a=e.hospitals[0].facets.map((function(e){return e.path}));return r.a.createElement("div",{className:"blockHospital"},r.a.createElement("div",{className:"blockHospital__block"},r.a.createElement(v.a,{data:t,keys:a,indexBy:"sector",margin:{top:50,right:130,bottom:50,left:60},padding:.1,groupMode:"stacked",colors:{scheme:"red_blue"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Sector",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"No. Personas",legendPosition:"middle",legendOffset:-40},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15})))}),E=a(194),O=(a(351),function(e){var t={name:"Pacientes con Enfermedad Pre",children:Object.keys(e.sickness).map((function(t){var a=e.sickness[t].facets.filter((function(e){return"SI"===e.path}));return{name:e.sickness[t].name,children:[{name:e.sickness[t].name,count:a[0].count}]}}))};return r.a.createElement("div",{className:"blockSickness"},r.a.createElement("div",{className:"blockSickness__block"},r.a.createElement(E.a,{root:t,margin:{top:20,right:20,bottom:20,left:20},identity:"name",value:"count",colors:{scheme:"paired"},colorBy:"depth",padding:6,labelTextColor:{from:"color",modifiers:[["darker",1.9]]},borderWidth:2,borderColor:{from:"color"},defs:[{id:"lines",type:"patternLines",background:"none",color:"inherit",rotation:-45,lineWidth:5,spacing:8}],fill:[{match:{depth:1},id:"lines"}],animate:!0,motionStiffness:90,motionDamping:12})))}),y=(a(352),function(e){var t=e.useFetchCurrent(e.currentTerrytory.name),a=Object(s.a)(t,7),n=a[2],c=a[3],i=a[4],o=a[5],l=a[6];return r.a.createElement("div",{className:"dashBoard"},o&&r.a.createElement("div",null,"CIUDAD DE M\xc9XICO"===e.currentTerrytory.name&&r.a.createElement("div",{className:"dashBoard__town"},r.a.createElement("div",{className:"dashBoard__title"}," No. Casos Positivos por Municipios "),r.a.createElement(g,{towns:n,breakpoint:e.breakpoint})),r.a.createElement("div",{className:"dashBoard__hospital"},r.a.createElement("div",{className:"dashBoard__title"},"Distribuci\xf3n por Sector de Salud. ",l," personas atendidas:"),r.a.createElement(k,{hospitals:i})),r.a.createElement("div",{className:"dashBoard__sickness"},r.a.createElement("div",{className:"dashBoard__title"},"Enfermedades presentadas en casos Positivos:"),r.a.createElement(O,{sickness:c}))))});var j=function(){var e=Object(n.useState)({name:"",count:0}),t=Object(s.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)({}),u=Object(s.a)(i,2),f=u[0],m=u[1],h=Object(n.useState)({}),g=Object(s.a)(h,2),_=g[0],v=g[1],k=Object(n.useState)(!1),E=Object(s.a)(k,2),O=E[0],j=E[1],S=p();return Object(n.useEffect)((function(){fetch("https://datos.cdmx.gob.mx/api/records/1.0/search/?dataset=casos-asociados-a-covid-19&rows=0&facet=origen&facet=sector&facet=entidad_um&facet=sexo&facet=municipio_res&facet=tipo_paciente&facet=fecha_ingreso&facet=edad&facet=nacionalidad&facet=embarazo&facet=habla_lengua_indi&facet=diabetes&facet=epoc&facet=asma&facet=inmusupr&facet=hipertension&facet=cardiovascular&facet=obesidad&facet=renal_cronica&facet=tabaquismo&facet=resultado&facet=migrante&facet=pais_nacionalidad&facet=rango_edad").then((function(e){return e.json()})).then((function(e){if(e.facet_groups&&e.facet_groups[0]&&e.facet_groups[0].facets){var t=e.facet_groups.filter((function(e){return"entidad_um"===e.name})),a=e.facet_groups.filter((function(e){return"municipio_res"===e.name}));c(Object(o.a)({},t)),m({name:t[0].facets[0].name}),v(Object(o.a)({},a)),j(!0)}}))}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(d,null),r.a.createElement("div",{className:"wrapper"},O&&r.a.createElement("div",null,r.a.createElement(l,{terrytory:a,useFetchCurrent:b,setCurrentTerrytory:m,currentTerrytory:f,setCurrentTowns:v}),r.a.createElement(y,{currentTerrytory:f,useFetchCurrent:b,breakpoint:S,currentTowns:_}))))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root"))}},[[205,1,2]]]);
//# sourceMappingURL=main.22ed86b4.chunk.js.map